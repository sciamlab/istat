<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="SciamLab SmartData Viewver">
    <meta name="author" content="Alessio Dragoni (ad@sciamlab.com)">
    <link rel="shortcut icon" href="img/favicon.ico">
    <title>Il Dato &egrave; tratto! Abitanti e Propensione all'Assunzione @istat_it #datachallenge </title>
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!-- Bootstrap -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
    <!-- Bootstrap select -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.3.5/bootstrap-select.min.css">
    <!-- Bootstrap slider -->
    <link rel="stylesheet" href="css/slider.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="css/style.css">
</head>
<body class="best-worst">
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&appId=1445834042360800&version=v2.0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>

    <div id="wrap">
        <header>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-10 col-xs-9" >
                       <h1 class="page-heading">
                           <span class="step fa-stack fa-lg">
                            <i class="fa fa-circle fa-stack-2x"></i>
                            <i class="fa fa-stack-1x fa-inverse number">1</i>
                            </span>
                           <span class="sub-title">regioni/<span class="gray">imprese</span>/indicatori</span>
                           Best Worst</h1>
                    </div>
                    <div class="col-sm-2 col-xs-3 section_icon">
                        <i class="icon-custom-industry fa-5x"></i>
                        <a href="index.html"><img class="img-responsive logo" src="img/ildatoetratto.png" alt="il dato Ã¨ tratto"/></a>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <div class="container-fluid">
                <div class="row">
                    <div class="col-sm-3">
                        <!-- start .side-selector -->
                        <section class="side-selector">

                            <div class="selector-box">
                                <h3 class="title-select">
                                    <i class="icon-custom-link"></i>
                                    Cosa ti interessa vedere?
                                </h3>
								<div class="lcontent">
								  <div class="height">
                                     <span id="stat-dimhigh2"></span>
                                     <img class="img-responsive" src="img/block-height.png" alt="riferimento altezza" />                                 
                                  <select id="statchooserH" class="selectpicker show-menu-arrow" data-width="auto" onchange="chooseStat(this)">
                                      <option value='abitanti' selected>Abitanti</option>
                                      <option value='assunzioni'>Propensione Assunzione</option>
                                      <option value='suicidi'>Tasso Suicidi</option>
                                      <option value='tumori'>Tasso mortalit&agrave; tumori</option>
                                  </select>
                                     <div class="clearfix"></div>  
                                  </div>
                                  <div class="color">
                                     <span id="stat-dimcolor2"></span>
                                     <div class="color-bar"></div>
                                  <select id="statchooserC" class="selectpicker show-menu-arrow" data-width="auto" onchange="chooseStat(this)">
                                      <option value='abitanti'>Abitanti</option>
                                      <option value='assunzioni' selected>Propensione Assunzione</option>
                                      <option value='suicidi'>Tasso Suicidi</option>
                                      <option value='tumori'>Tasso mortalit&agrave; tumori</option>
                                  </select>
                                     <div class="clearfix"></div> 
                                  </div>
                                </div>
                            </div>

                            <div class="slider-box">
                                <h3 class="title-slider">
                                    <i class="icon-custom-link"></i>
                                    Cosa &eacute; pi&uacute; importante?
                                </h3>
                                <div class="slider-content">
                                    <label id="val-dim-high">0.5</label><label class="label-dim-high" for="slider-high"></label>
                                    <input type="text" class="slider" id="slider-high" value="" data-slider-min="0" data-slider-max="1" data-slider-step="0.1" data-slider-value="0.5" data-slider-tooltip="hide" />
                                    <label id="val-dim-color">0.5</label><label class="label-dim-color"></label>
                                    <!-- input type="text" class="slider" id="slider-color" value="" data-slider-min="0" data-slider-max="1" data-slider-step="0.1" data-slider-value="0.5" data-slider-tooltip="hide" / -->
                                </div>
                            </div>

                            <div class="sshare-box">
                                <h3 class="title-sshare">
                                    <i class="icon-custom-link"></i>
                                    Condividi visualizzazione!
                                </h3>
                                <div class="sshare-content">
 									<div class="twitter-sshare" style="float:left;padding:0 3px 0 3px;">
										<a href="https://twitter.com/share" class="twitter-share-button" data-lang="it" data-count="none">Tweet</a>
										<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
									</div>
									<div class="sshare-gplus" style="float:left;padding:0 3px 0 3px;">
										<div class="g-plus" data-action="share" data-annotation="none"></div>
										<!-- Inserisci questo tag dopo l'ultimo tag di condividi. -->
										<script type="text/javascript">
										  window.___gcfg = {lang: 'it'};

										  (function() {
											var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
											po.src = 'https://apis.google.com/js/platform.js';
											var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
										  })();
										</script>
									</div>

									<div class="sshare-fb" style="padding:0 3px 0 3px;">
										<div class="fb-share-button" data-type="button" data-href="http://istatcontest.sciamlab.com" data-width="200"></div>
									</div>
                                </div>
                            </div>
	

                        </section>
                        <!-- end .side-selector-->
                    </div>
                    <!-- start WebGL content -->
                    <div id="3dcontainer" class="container2">
                    </div>
                    <!-- end WebGL content -->
                    <div class="col-sm-3 col-sm-offset-6">
                        <section class="side-selector side-right">
                            <div class="result-box">
                                <h3>
                                    <i class="icon-custom-smile"></i>
                                    3 Best Places
                                </h3>
                                <ul>
                                    <li>
                                        <span class="step fa-stack fa-lg">
                                            <i class="fa icon-custom-baloon fa-stack-2x"></i>
                                            <i class="fa fa-stack-1x number">1</i>
                                        </span>
                                        <span id="region-b1"></span>
                                    </li>
                                    <li>
                                        <span class="step fa-stack fa-lg">
                                            <i class="fa icon-custom-baloon fa-stack-2x"></i>
                                            <i class="fa fa-stack-1x number">2</i>
                                        </span>
                                        <span id="region-b2"></span>
                                    </li>
                                    <li>
                                        <span class="step fa-stack fa-lg">
                                            <i class="fa icon-custom-baloon fa-stack-2x"></i>
                                            <i class="fa fa-stack-1x number">3</i>
                                        </span>
                                        <span id="region-b3"></span>
                                    </li>
                                </ul>
                            </div>
                            <div class="result-box">
                                <h3>
                                    <i class="icon-custom-worst"></i>
                                    3 Worst Places
                                </h3>
                                <ul>
                                    <li>
                                        <span class="step fa-stack fa-lg">
                                            <i class="fa icon-custom-baloon fa-stack-2x"></i>
                                            <i class="fa fa-stack-1x number">1</i>
                                        </span>
                                        <span id="region-w1"></span>
                                    </li>
                                    <li>
                                        <span class="step fa-stack fa-lg">
                                            <i class="fa icon-custom-baloon fa-stack-2x"></i>
                                            <i class="fa fa-stack-1x number">2</i>
                                        </span>
                                        <span id="region-w2"></span>
                                    </li>
                                    <li>
                                        <span class="step fa-stack fa-lg">
                                            <i class="fa icon-custom-baloon fa-stack-2x"></i>
                                            <i class="fa fa-stack-1x number">3</i>
                                        </span>
                                        <span id="region-w3"></span>
                                    </li>
                                </ul>
                            </div>
                            <div class="legenda">
                                <div class="lheader">
                                    <h3><i class="icon-custom-legenda"></i> Legenda</h3>
                                </div>

                                <div class="lcontent"> 
                                    <div class="height">
                                        <span id="stat-dimhigh"></span>
                                        <img class="img-responsive" src="img/block-height.png" alt="riferimento altezza" />
                                        <div class="clearfix"></div>
                                    </div>
                                    <div class="color">
                                        <span id="stat-dimcolor"></span>
                                        <div class="color-bar">
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </section>
                    </div>
                </div>
            </div>


             <!--start infoarea -->
            <!--<div id="slideout">-->
                <!--<i class="fa fa-cogs fa-1g"></i>-->
                 <!--img src="img/tools-handler.png" alt="tools" -->
                <!--<div id="slideout_inner">-->
                    <!--<div id="infoarea">-->
                        <!--<div id="stat-title-div" style="width:230px;height:40px"><p id="stat-title" class="fontlegend"></p></div>-->
                        <!--<div id="legend" class="img-thumbnail">-->
                            <!--<img src="img/legend1.png" style="max-width:230px; height: auto;">-->
                        <!--</div>-->
                        <!--<div style="position:absolute;top:165px;left:25px;width:160px;text-align:right;line-height:12px;"><span id="stat-dimhigh" class="fontlegend"></span></div>-->
                        <!--<div style="position:absolute;top:225px;left:25px;width:200px;text-align:left;line-height:12px;height:30px;"><div style="position:absolute;bottom:0px;"><span id="stat-dimcolor" class="fontlegend"></span></div></div>-->
                    <!--</div>-->
                <!--</div>-->
            <!--</div>-->
             <!--end infoarea -->


            <div class="clearfix"></div>
        </main>
    </div>
    <!-- end #wrap -->
    <footer>
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-5">
                    <a href="http://github.com/sciamlab/istat" target="_blank" class="github-link"><i class="fa fa-github fa-3x"></i></a>
                    <div class="footer-info">
						<img src="img/lgplv3.png" style="max-height: 30px;float: left;padding:3px 7px 0 0"/>
                        <div style="float:right">
                           <a href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Licenza Creative Commons" src="img/80x15.png" /></a>
                           <span class="link-about">&copy; 2014 <a href="about.html" alt="About">Il Dato &egrave; Tratto</a></span>
                        <div>
                    </div>
                </div>
            </div>
        </div>
    </footer>
    <!-- legend tooltip on WebGL elements -->
    <div id="dhtmltooltip"></div>

    <!-- JQuery -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Bootstrap -->
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>
    <!-- Bootstrap select -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.3.5/bootstrap-select.min.js"></script>
    <!-- Bootstrap slider -->
    <script type="text/javascript" src="js/bootstrap-slider.js"></script>
    <script type="text/javascript" src="js/Detector.js"></script>
    <script src="http://d3js.org/d3.v3.min.js" charset="utf-8"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/three.js/r68/three.min.js" charset="utf-8"></script>
    <script type="text/javascript" src="js/OrbitControls.js"></script>
    <script type="text/javascript" src="js/d3-threeD.js"></script>
    <script type="text/javascript" src="js/threex.keyboardstate.js"></script>
    <script type="text/javascript" src="js/dat.gui.min.js"></script>
    <!-- script type="text/javascript" src="js/canvas2image.js"></script -->
    <script type="text/javascript" src="js/base64.js"></script>
    <script type="text/javascript" src="js/gradient.js"></script>
    <script type="text/javascript" src="js/smartlab_viz.js"></script>
    <script type="text/javascript" src="js/popup.js"></script>
    <script src="js/ga.js"></script>
    <script src="js/canvas-toBlob.js"></script>
    <script src="js/FileSaver.js"></script>

    <script type="text/javascript">

        draw3DStat("geo/regioni.json",h,c);
        function chooseStat(actionFrom) {
            // check in the same value is selected on both the combos
            var selStatH = document.getElementById("statchooserH");
            var selStatC = document.getElementById("statchooserC");
            var statFileH = selStatH.options[selStatH.selectedIndex].value;
            var statFileC = selStatC.options[selStatC.selectedIndex].value;
			if (statFileH==statFileC) {
				console.log("turn error on: "+actionFrom.id);
				$("button[data-id="+actionFrom.id+"]")
                    .addClass("btn-danger");
				return false;			
			} else {
				$(".btn-danger")
                    .removeClass("btn-danger");
	            draw3DStat("geo/regioni.json",statFileH,statFileC);
				return true;
			}
        }
    </script>
    
</body>
</html>

