(function(e){e.expr[":"].icontains=function(a,b,c){return 0<=e(a).text().toUpperCase().indexOf(c[3].toUpperCase())};var g=function(a,b,c){c&&(c.stopPropagation(),c.preventDefault());this.$element=e(a);this.$lis=this.$menu=this.$button=this.$newElement=null;this.options=b;null===this.options.title&&(this.options.title=this.$element.attr("title"));this.val=g.prototype.val;this.render=g.prototype.render;this.refresh=g.prototype.refresh;this.setStyle=g.prototype.setStyle;this.selectAll=g.prototype.selectAll;
this.deselectAll=g.prototype.deselectAll;this.remove=this.destroy=g.prototype.remove;this.show=g.prototype.show;this.hide=g.prototype.hide;this.init()};g.VERSION="1.6.1";g.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results match",countSelectedText:"{0} of {1} selected",maxOptionsText:["Limit reached ({n} {var} max)","Group limit reached ({n} {var} max)",["items","item"]],multipleSeparator:", ",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,
hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",maxOptions:!1,mobile:!1,selectOnTab:!1};g.prototype={constructor:g,init:function(){var a=this,b=this.$element.attr("id");this.$element.hide();this.multiple=this.$element.prop("multiple");this.autofocus=this.$element.prop("autofocus");this.$newElement=this.createView();this.$element.after(this.$newElement);this.$menu=this.$newElement.find("> .dropdown-menu");
this.$button=this.$newElement.find("> button");this.$searchbox=this.$newElement.find("input");"undefined"!==typeof b&&(this.$button.attr("data-id",b),e('label[for="'+b+'"]').click(function(b){b.preventDefault();a.$button.focus()}));this.checkDisabled();this.clickListener();this.options.liveSearch&&this.liveSearchListener();this.render();this.liHeight();this.setStyle();this.setWidth();this.options.container&&this.selectPosition();this.$menu.data("this",this);this.$newElement.data("this",this);this.options.mobile&&
this.mobile()},createDropdown:function(){var a=this.multiple?" show-tick":"",b=this.$element.parent().hasClass("input-group")?" input-group-btn":"";return e('<div class="btn-group bootstrap-select'+a+b+'"><button type="button" class="btn dropdown-toggle selectpicker" data-toggle="dropdown"'+(this.autofocus?" autofocus":"")+'><span class="filter-option pull-left"></span>&nbsp;<span class="caret"></span></button><div class="dropdown-menu open">'+(this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+
this.options.header+"</div>":"")+(this.options.liveSearch?'<div class="bootstrap-select-searchbox"><input type="text" class="input-block-level form-control" autocomplete="off" /></div>':"")+(this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-block"><button class="actions-btn bs-select-all btn btn-sm btn-default">Select All</button><button class="actions-btn bs-deselect-all btn btn-sm btn-default">Deselect All</button></div></div>':"")+'<ul class="dropdown-menu inner selectpicker" role="menu"></ul></div></div>')},
createView:function(){var a=this.createDropdown(),b=this.createLi();a.find("ul").append(b);return a},reloadLi:function(){this.destroyLi();var a=this.createLi();this.$menu.find("ul").append(a)},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var a=this,b=[],c="",d=0;this.$element.find("option").each(function(){var c=e(this),l=c.attr("class")||"",k=c.attr("style")||"",m=c.data("content")?c.data("content"):c.html(),h="undefined"!==typeof c.data("subtext")?'<small class="muted text-muted">'+
c.data("subtext")+"</small>":"",f="undefined"!==typeof c.data("icon")?'<i class="'+a.options.iconBase+" "+c.data("icon")+'"></i> ':"";""!==f&&(c.is(":disabled")||c.parent().is(":disabled"))&&(f="<span>"+f+"</span>");c.data("content")||(m=f+'<span class="text">'+m+h+"</span>");a.options.hideDisabled&&(c.is(":disabled")||c.parent().is(":disabled"))?b.push('<a style="min-height: 0; padding: 0"></a>'):c.parent().is("optgroup")&&!0!==c.data("divider")?0===c.index()?(h=c.parent().attr("label"),f="undefined"!==
typeof c.parent().data("subtext")?'<small class="muted text-muted">'+c.parent().data("subtext")+"</small>":"",h=(c.parent().data("icon")?'<i class="'+a.options.iconBase+" "+c.parent().data("icon")+'"></i> ':"")+'<span class="text">'+h+f+"</span>",d+=1,0!==c[0].index?b.push('<div class="div-contain"><div class="divider"></div></div><dt>'+h+"</dt>"+a.createA(m,"opt "+l,k,d)):b.push("<dt>"+h+"</dt>"+a.createA(m,"opt "+l,k,d))):b.push(a.createA(m,"opt "+l,k,d)):!0===c.data("divider")?b.push('<div class="div-contain"><div class="divider"></div></div>'):
!0===e(this).data("hidden")?b.push("<a></a>"):b.push(a.createA(m,l,k))});e.each(b,function(a,b){c+='<li rel="'+a+'"'+("<a></a>"===b?'class="hide is-hidden"':"")+">"+b+"</li>"});this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected");return e(c)},createA:function(a,b,c,d){return'<a tabindex="0" class="'+b+'" style="'+c+'"'+("undefined"!==typeof d?'data-optgroup="'+d+'"':"")+">"+a+'<i class="'+
this.options.iconBase+" "+this.options.tickIcon+' icon-ok check-mark"></i></a>'},render:function(a){var b=this;!1!==a&&this.$element.find("option").each(function(a){b.setDisabled(a,e(this).is(":disabled")||e(this).parent().is(":disabled"));b.setSelected(a,e(this).is(":selected"))});this.tabIndex();a=this.$element.find("option:selected").map(function(){var a=e(this),c=a.data("icon")&&b.options.showIcon?'<i class="'+b.options.iconBase+" "+a.data("icon")+'"></i> ':"",d;d=b.options.showSubtext&&a.attr("data-subtext")&&
!b.multiple?' <small class="muted text-muted">'+a.data("subtext")+"</small>":"";var h=a.attr("class")+"";return a.data("content")&&b.options.showContent?a.data("content"):"undefined"!==typeof a.attr("title")?a.attr("title"):a.attr("class")?c+'<span class="'+h+'">'+a.html()+"</span>"+d:c+a.html()+d}).toArray();var c=this.multiple?a.join(this.options.multipleSeparator):a[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var d=this.options.selectedTextFormat.split(">"),s=this.options.hideDisabled?
":not([disabled])":"";if(1<d.length&&a.length>d[1]||1==d.length&&2<=a.length)c=this.options.countSelectedText.replace("{0}",a.length).replace("{1}",this.$element.find('option:not([data-divider="true"], [data-hidden="true"])'+s).length)}this.options.title=this.$element.attr("title");"static"==this.options.selectedTextFormat&&(c=this.options.title);c||(c="undefined"!==typeof this.options.title?this.options.title:this.options.noneSelectedText);this.$button.attr("title",e.trim(e("<div/>").html(c).text()).replace(/\s\s+/g,
" "));this.$newElement.find(".filter-option").html(c)},setStyle:function(a,b){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|validate\[.*\]/gi,""));var c=a?a:this.options.style;"add"==b?this.$button.addClass(c):"remove"==b?this.$button.removeClass(c):(this.$button.removeClass(this.options.style),this.$button.addClass(c))},liHeight:function(){if(!1!==this.options.size){var a=this.$menu.parent().clone().find("> .dropdown-toggle").prop("autofocus",
!1).end().appendTo("body"),b=a.addClass("open").find("> .dropdown-menu"),c=b.find("li > a").outerHeight(),d=this.options.header?b.find(".popover-title").outerHeight():0,e=this.options.liveSearch?b.find(".bootstrap-select-searchbox").outerHeight():0,b=this.options.actionsBox?b.find(".bs-actionsbox").outerHeight():0;a.remove();this.$newElement.data("liHeight",c).data("headerHeight",d).data("searchHeight",e).data("actionsHeight",b)}},setSize:function(){var a=this,b=this.$menu,c=b.find(".inner"),d=this.$newElement.outerHeight(),
s=this.$newElement.data("liHeight"),l=this.$newElement.data("headerHeight"),k=this.$newElement.data("searchHeight"),m=this.$newElement.data("actionsHeight"),h=b.find("li .divider").outerHeight(!0),f=parseInt(b.css("padding-top"))+parseInt(b.css("padding-bottom"))+parseInt(b.css("border-top-width"))+parseInt(b.css("border-bottom-width")),g=this.options.hideDisabled?":not(.disabled)":"",p=e(window),q=f+parseInt(b.css("margin-top"))+parseInt(b.css("margin-bottom"))+2,n,r,u,v=function(){r=a.$newElement.offset().top-
p.scrollTop();u=p.height()-r-d};v();this.options.header&&b.css("padding-top",0);"auto"==this.options.size?(h=function(){var d;d=a.$lis.not(".hide");v();n=u-q;a.options.dropupAuto&&a.$newElement.toggleClass("dropup",r>u&&n-q<b.height());a.$newElement.hasClass("dropup")&&(n=r-q);d=3<d.length+d.find("dt").length?3*s+q-2:0;b.css({"max-height":n+"px",overflow:"hidden","min-height":d+l+k+m+"px"});c.css({"max-height":n-l-k-m-f+"px","overflow-y":"auto","min-height":Math.max(d-f,0)+"px"})},h(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",
h),e(window).off("resize.getSize").on("resize.getSize",h),e(window).off("scroll.getSize").on("scroll.getSize",h)):this.options.size&&"auto"!=this.options.size&&b.find("li"+g).length>this.options.size&&(g=b.find("li"+g+" > *").not(".div-contain").slice(0,this.options.size).last().parent().index(),g=b.find("li").slice(0,g+1).find(".div-contain").length,n=s*this.options.size+g*h+f,a.options.dropupAuto&&this.$newElement.toggleClass("dropup",r>u&&n<b.height()),b.css({"max-height":n+l+k+m+"px",overflow:"hidden"}),
c.css({"max-height":n-f+"px","overflow-y":"auto"}))},setWidth:function(){if("auto"==this.options.width){this.$menu.css("min-width","0");var a=this.$newElement.clone().appendTo("body"),b=a.find("> .dropdown-menu").css("width"),c=a.css("width","auto").find("> button").css("width");a.remove();this.$newElement.css("width",Math.max(parseInt(b),parseInt(c))+"px")}else"fit"==this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",
""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){var a=this,b=e("<div />"),c,d,g=function(a){b.addClass(a.attr("class").replace(/form-control/gi,"")).toggleClass("dropup",a.hasClass("dropup"));c=a.offset();d=a.hasClass("dropup")?0:a[0].offsetHeight;b.css({top:c.top+d,left:c.left,width:a[0].offsetWidth,
position:"absolute"})};this.$newElement.on("click",function(){a.isDisabled()||(g(e(this)),b.appendTo(a.options.container),b.toggleClass("open",!e(this).hasClass("open")),b.append(a.$menu))});e(window).resize(function(){g(a.$newElement)});e(window).on("scroll",function(){g(a.$newElement)});e("html").on("click",function(c){1>e(c.target).closest(a.$newElement).length&&b.removeClass("open")})},setSelected:function(a,b){null==this.$lis&&(this.$lis=this.$menu.find("li"));e(this.$lis[a]).toggleClass("selected",
b)},setDisabled:function(a,b){null==this.$lis&&(this.$lis=this.$menu.find("li"));b?e(this.$lis[a]).addClass("disabled").find("a").attr("href","#").attr("tabindex",-1):e(this.$lis[a]).removeClass("disabled").find("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element.is(":disabled")},checkDisabled:function(){var a=this;this.isDisabled()?this.$button.addClass("disabled").attr("tabindex",-1):(this.$button.hasClass("disabled")&&this.$button.removeClass("disabled"),-1==
this.$button.attr("tabindex")&&(this.$element.data("tabindex")||this.$button.removeAttr("tabindex")));this.$button.click(function(){return!a.isDisabled()})},tabIndex:function(){this.$element.is("[tabindex]")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex")))},clickListener:function(){var a=this;this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(a){a.stopPropagation()});this.$newElement.on("click",function(){a.setSize();
a.options.liveSearch||a.multiple||setTimeout(function(){a.$menu.find(".selected a").focus()},10)});this.$menu.on("click","li a",function(b){var c=e(this).parent().index(),d=a.$element.val(),g=a.$element.prop("selectedIndex");a.multiple&&b.stopPropagation();b.preventDefault();if(!a.isDisabled()&&!e(this).parent().hasClass("disabled")){b=a.$element.find("option");var l=b.eq(c),k=l.prop("selected"),m=l.parent("optgroup"),h=a.options.maxOptions,f=m.data("maxOptions")||!1;if(a.multiple){if(l.prop("selected",
!k),a.setSelected(c,!k),e(this).blur(),!1!==h||!1!==f){var k=h<b.filter(":selected").length,t=f<m.find("option:selected").length,p=a.options.maxOptionsText,q=p[0].replace("{n}",h),n=p[1].replace("{n}",f),r=e('<div class="notify"></div>');if(h&&k||f&&t)h&&1==h?(b.prop("selected",!1),l.prop("selected",!0),a.$menu.find(".selected").removeClass("selected"),a.setSelected(c,!0)):f&&1==f?(m.find("option:selected").prop("selected",!1),l.prop("selected",!0),b=e(this).data("optgroup"),a.$menu.find(".selected").has('a[data-optgroup="'+
b+'"]').removeClass("selected"),a.setSelected(c,!0)):(p[2]&&(q=q.replace("{var}",p[2][1<h?0:1]),n=n.replace("{var}",p[2][1<f?0:1])),l.prop("selected",!1),a.$menu.append(r),h&&k&&(r.append(e("<div>"+q+"</div>")),a.$element.trigger("maxReached.bs.select")),f&&t&&(r.append(e("<div>"+n+"</div>")),a.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){a.setSelected(c,!1)},10),r.delay(750).fadeOut(300,function(){e(this).remove()}))}}else b.prop("selected",!1),l.prop("selected",!0),a.$menu.find(".selected").removeClass("selected"),
a.setSelected(c,!0);a.multiple?a.options.liveSearch&&a.$searchbox.focus():a.$button.focus();(d!=a.$element.val()&&a.multiple||g!=a.$element.prop("selectedIndex")&&!a.multiple)&&a.$element.change()}});this.$menu.on("click","li.disabled a, li dt, li .div-contain, .popover-title, .popover-title :not(.close)",function(b){b.target==this&&(b.preventDefault(),b.stopPropagation(),a.options.liveSearch?a.$searchbox.focus():a.$button.focus())});this.$menu.on("click",".popover-title .close",function(){a.$button.focus()});
this.$searchbox.on("click",function(a){a.stopPropagation()});this.$menu.on("click",".actions-btn",function(b){a.options.liveSearch?a.$searchbox.focus():a.$button.focus();b.preventDefault();b.stopPropagation();e(this).is(".bs-select-all")?a.selectAll():a.deselectAll();a.$element.change()});this.$element.change(function(){a.render(!1)})},liveSearchListener:function(){var a=this,b=e('<li class="no-results"></li>');this.$newElement.on("click.dropdown.data-api",function(){a.$menu.find(".active").removeClass("active");
a.$searchbox.val()&&(a.$searchbox.val(""),a.$lis.not(".is-hidden").removeClass("hide"),b.parent().length&&b.remove());a.multiple||a.$menu.find(".selected").addClass("active");setTimeout(function(){a.$searchbox.focus()},10)});this.$searchbox.on("input propertychange",function(){a.$searchbox.val()?(a.$lis.not(".is-hidden").removeClass("hide").find("a").not(":icontains("+a.$searchbox.val()+")").parent().addClass("hide"),a.$menu.find("li").filter(":visible:not(.no-results)").length?b.parent().length&&
b.remove():(b.parent().length&&b.remove(),b.html(a.options.noneResultsText+' "'+a.$searchbox.val()+'"').show(),a.$menu.find("li").last().after(b))):(a.$lis.not(".is-hidden").removeClass("hide"),b.parent().length&&b.remove());a.$menu.find("li.active").removeClass("active");a.$menu.find("li").filter(":visible:not(.divider)").eq(0).addClass("active").find("a").focus();e(this).focus()});this.$menu.on("mouseenter","a",function(b){a.$menu.find(".active").removeClass("active");e(b.currentTarget).parent().not(".disabled").addClass("active")});
this.$menu.on("mouseleave","a",function(){a.$menu.find(".active").removeClass("active")})},val:function(a){return"undefined"!==typeof a?(this.$element.val(a),this.render(),this.$element):this.$element.val()},selectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li"));this.$element.find("option:enabled").prop("selected",!0);e(this.$lis).not(".disabled").addClass("selected");this.render(!1)},deselectAll:function(){null==this.$lis&&(this.$lis=this.$menu.find("li"));this.$element.find("option:enabled").prop("selected",
!1);e(this.$lis).not(".disabled").removeClass("selected");this.render(!1)},keydown:function(a){var b,c,d,g,l,k,m,h,f,t,p,q={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};b=e(this);d=b.parent();b.is("input")&&
(d=b.parent().parent());f=d.data("this");f.options.liveSearch&&(d=b.parent().parent());f.options.container&&(d=f.$menu);c=e("[role=menu] li:not(.divider) a",d);p=f.$menu.parent().hasClass("open");!p&&/([0-9]|[A-z])/.test(String.fromCharCode(a.keyCode))&&(f.options.container?f.$newElement.trigger("click"):(f.setSize(),f.$menu.parent().addClass("open"),p=!0),f.$searchbox.focus());f.options.liveSearch&&(/(^9$|27)/.test(a.keyCode.toString(10))&&p&&0===f.$menu.find(".active").length&&(a.preventDefault(),
f.$menu.parent().removeClass("open"),f.$button.focus()),c=e("[role=menu] li:not(.divider):visible",d),b.val()||/(38|40)/.test(a.keyCode.toString(10))||0===c.filter(".active").length&&(c=f.$newElement.find("li").filter(":icontains("+q[a.keyCode]+")")));if(c.length){if(/(38|40)/.test(a.keyCode.toString(10)))d=c.index(c.filter(":focus")),l=c.parent(":not(.disabled):visible").first().index(),k=c.parent(":not(.disabled):visible").last().index(),g=c.eq(d).parent().nextAll(":not(.disabled):visible").eq(0).index(),
m=c.eq(d).parent().prevAll(":not(.disabled):visible").eq(0).index(),h=c.eq(g).parent().prevAll(":not(.disabled):visible").eq(0).index(),f.options.liveSearch&&(c.each(function(a){e(this).is(":not(.disabled)")&&e(this).data("index",a)}),d=c.index(c.filter(".active")),l=c.filter(":not(.disabled):visible").first().data("index"),k=c.filter(":not(.disabled):visible").last().data("index"),g=c.eq(d).nextAll(":not(.disabled):visible").eq(0).data("index"),m=c.eq(d).prevAll(":not(.disabled):visible").eq(0).data("index"),
h=c.eq(g).prevAll(":not(.disabled):visible").eq(0).data("index")),t=b.data("prevIndex"),38==a.keyCode&&(f.options.liveSearch&&(d-=1),d!=h&&d>m&&(d=m),d<l&&(d=l),d==t&&(d=k)),40==a.keyCode&&(f.options.liveSearch&&(d+=1),-1==d&&(d=0),d!=h&&d<g&&(d=g),d>k&&(d=k),d==t&&(d=l)),b.data("prevIndex",d),f.options.liveSearch?(a.preventDefault(),b.is(".dropdown-toggle")||(c.removeClass("active"),c.eq(d).addClass("active").find("a").focus(),b.focus())):c.eq(d).focus();else if(!b.is("input")){var n=[];c.each(function(){e(this).parent().is(":not(.disabled)")&&
e.trim(e(this).text().toLowerCase()).substring(0,1)==q[a.keyCode]&&n.push(e(this).parent().index())});d=e(document).data("keycount");d++;e(document).data("keycount",d);e.trim(e(":focus").text().toLowerCase()).substring(0,1)!=q[a.keyCode]?(d=1,e(document).data("keycount",d)):d>=n.length&&(e(document).data("keycount",0),d>n.length&&(d=1));c.eq(n[d-1]).focus()}(/(13|32)/.test(a.keyCode.toString(10))||f.options.selectOnTab&&/(^9$)/.test(a.keyCode.toString(10)))&&p&&(/(32)/.test(a.keyCode.toString(10))||
a.preventDefault(),f.options.liveSearch?/(32)/.test(a.keyCode.toString(10))||(f.$menu.find(".active a").click(),b.focus()):e(":focus").click(),e(document).data("keycount",0));if(/(^9$|27)/.test(a.keyCode.toString(10))&&p&&(f.multiple||f.options.liveSearch)||/(27)/.test(a.keyCode.toString(10))&&!p)f.$menu.parent().removeClass("open"),f.$button.focus()}},mobile:function(){this.$element.addClass("mobile-device").appendTo(this.$newElement);this.options.container&&this.$menu.hide()},refresh:function(){this.$lis=
null;this.reloadLi();this.render();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},update:function(){this.reloadLi();this.setWidth();this.setStyle();this.checkDisabled();this.liHeight()},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove();this.$element.remove()}};e.fn.selectpicker=function(a,b){var c=arguments;a=c[0];b=c[1];[].shift.apply(c);var d,s=this.each(function(){var l=e(this);if(l.is("select")){var k=
l.data("selectpicker"),m="object"==typeof a&&a;if(!k)k=e.extend(g.DEFAULTS,e.fn.selectpicker.defaults||{},l.data(),m),l.data("selectpicker",k=new g(this,k,b));else if(m)for(var h in m)m.hasOwnProperty(h)&&(k.options[h]=m[h]);"string"==typeof a&&(d=k[a]instanceof Function?k[a].apply(k,c):k.options[a])}});return"undefined"!==typeof d?d:s};e.fn.selectpicker.Constructor=g;e(document).data("keycount",0).on("keydown",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",
g.prototype.keydown).on("focusin.modal",".bootstrap-select [data-toggle=dropdown], .bootstrap-select [role=menu], .bootstrap-select-searchbox input",function(a){a.stopPropagation()})})(jQuery);
